const _0xa3a6b6=_0x35a1;(function(_0x37ecbf,_0x37eee6){const _0x54944f={_0x17f2dd:0x100,_0x484faf:0x96,_0x2359f3:0x116,_0x48f03a:0xaf,_0x11dde4:0xc7,_0x37eaab:0x12b,_0xdf8e46:0x118},_0x4859d3=_0x35a1,_0x5f3bab=_0x37ecbf();while(!![]){try{const _0x3d2f7e=parseInt(_0x4859d3(0x74))/0x1*(parseInt(_0x4859d3(_0x54944f._0x17f2dd))/0x2)+-parseInt(_0x4859d3(0x8d))/0x3*(-parseInt(_0x4859d3(_0x54944f._0x484faf))/0x4)+parseInt(_0x4859d3(_0x54944f._0x2359f3))/0x5*(parseInt(_0x4859d3(0xf7))/0x6)+-parseInt(_0x4859d3(_0x54944f._0x48f03a))/0x7+-parseInt(_0x4859d3(_0x54944f._0x11dde4))/0x8*(-parseInt(_0x4859d3(0x112))/0x9)+-parseInt(_0x4859d3(_0x54944f._0x37eaab))/0xa*(parseInt(_0x4859d3(_0x54944f._0xdf8e46))/0xb)+parseInt(_0x4859d3(0x104))/0xc*(-parseInt(_0x4859d3(0xdf))/0xd);if(_0x3d2f7e===_0x37eee6)break;else _0x5f3bab['push'](_0x5f3bab['shift']());}catch(_0x4bcc43){_0x5f3bab['push'](_0x5f3bab['shift']());}}}(_0x46ca,0x613d4));const express=require(_0xa3a6b6(0xb4)),app=express(),axios=require(_0xa3a6b6(0x85)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0xa3a6b6(0xed)),exec=promisify(require(_0xa3a6b6(0x9d))[_0xa3a6b6(0x97)]),{execSync}=require(_0xa3a6b6(0x9d)),UPLOAD_URL=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0xb7)]||'',PROJECT_URL=process['env'][_0xa3a6b6(0xa3)]||'',AUTO_ACCESS=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0xfa)]||![],FILE_PATH=process['env'][_0xa3a6b6(0x76)]||'./tmp',SUB_PATH=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0xcf)]||_0xa3a6b6(0xff),PORT=process[_0xa3a6b6(0x7d)]['SERVER_PORT']||process['env'][_0xa3a6b6(0xe3)]||0xbb8,UUID=process[_0xa3a6b6(0x7d)]['UUID']||'',NEZHA_SERVER=process['env'][_0xa3a6b6(0x120)]||'',NEZHA_PORT=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0x90)]||'',NEZHA_KEY=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0x114)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process['env'][_0xa3a6b6(0x11d)]||'',ARGO_PORT=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0x12a)]||0x1f41,CFIP=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0x75)]||_0xa3a6b6(0x10b),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0xa3a6b6(0x7d)][_0xa3a6b6(0xfe)]||_0xa3a6b6(0xd4);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0xa3a6b6(0x8c)](FILE_PATH+_0xa3a6b6(0x98))):console['log'](FILE_PATH+_0xa3a6b6(0xbd));function _0x46ca(){const _0x2f1cae=['post','ArgoDomain:','\x20>\x20nul\x202>&1','clear','push','Subscription\x20uploaded\x20successfully','sub.txt','axios','/trojan-argo','basename','nohup\x20','error','Content-Type','\x0a\x20\x20tunnel:\x20','log','192651JBTNxH','https://oooo.serv00.net/add-url','tcp','NEZHA_PORT','then','application/json','all','\x20-p\x20','https://amd64.ssss.nyc.mn/bot','36VhDQtQ','exec','\x20is\x20created','existsSync','catch','\x0aclient_secret:\x20','arch','child_process','https://arm64.ssss.nyc.mn/agent','includes','/dev/null','config.json','/vmess-argo?ed=2560','PROJECT_URL','pkill\x20-f\x20\x22[','/api/add-subscriptions','2096','readFileSync','list.txt','status','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','finish','chmod','xtls-rprx-vision','direct','2876559RwdjuC','2083','arm64','/sub.txt\x20saved\x20successfully','del\x20/f\x20/q\x20','express','arm','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','UPLOAD_URL','Error\x20executing\x20command:\x20','charAt','map','base64','App\x20is\x20running','\x20already\x20exists','&path=%2Ftrojan-argo%3Fed%3D2560#','trim','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','2087','&fp=firefox&type=ws&host=','\x20is\x20running','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','8443','8yYHvyf','test','taskkill\x20/f\x20/im\x20','stream','close','?security=tls&sni=','\x0a\x20\x20\x0avmess://','writeFileSync','SUB_PATH','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','/tunnel.yml\x20run','\x22\x20>\x20/dev/null\x202>&1','koyeb','Download\x20','tunnel.json','has','127.0.0.1','match','/config.json\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/v1','Empowerment\x20failed\x20for\x20','listen','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','39hfnyQA','2053','boot.log','blackhole','PORT','freedom','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','none','tls','Unhandled\x20error\x20in\x20startserver:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20-s\x20','\x20>/dev/null\x202>&1\x20&','unlinkSync','util','https://amd64.ssss.nyc.mn/agent','forEach','https://arm64.ssss.nyc.mn/bot','http\x20server\x20is\x20running\x20on\x20port:','quic','send','aarch64','get','readdirSync','6WwPhnJ','vless','toString','AUTO_ACCESS','web\x20running\x20error:\x20','rm\x20-rf\x20','\x20failed:\x20','NAME','sub','73348zoKKTE','unshift','trojan','utf-8','2899824OuTitN','win32','abcdefghijklmnopqrstuvwxyz','Empowerment\x20success\x20for\x20','vmess','\x20successfully','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','162.159.44.98','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlink','pipe','block','message','Error\x20in\x20startserver:','2750499eEqEdu','http','NEZHA_KEY','\x20-c\x20\x22','21310EAkKWZ','false','50501qoxLwp','pop','from','?encryption=none&security=tls&sni=','\x0avless://','ARGO_AUTH','TunnelSecret','/vmess-argo','NEZHA_SERVER','filter','Hello\x20world!','stringify','split','automatic\x20access\x20task\x20added\x20successfully','ARGO_DOMAIN:','platform','length','npm\x20running\x20error:\x20','ARGO_PORT','30PWTVoW','/api/add-nodes','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','true','/vless-argo','18kzzaGW','CFIP','FILE_PATH','Nodes\x20uploaded\x20successfully','443','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','join','text/plain;\x20charset=utf-8','floor','env'];_0x46ca=function(){return _0x2f1cae;};return _0x46ca();}function generateRandomName(){const _0x3bc02d={_0xe02689:0x7c,_0x26a186:0x128},_0x530955=_0xa3a6b6,_0x1b7191=_0x530955(0x106);let _0x2ba17d='';for(let _0x5526c0=0x0;_0x5526c0<0x6;_0x5526c0++){_0x2ba17d+=_0x1b7191['charAt'](Math[_0x530955(_0x3bc02d._0xe02689)](Math['random']()*_0x1b7191[_0x530955(_0x3bc02d._0x26a186)]));}return _0x2ba17d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xa3a6b6(0x7a)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0xa3a6b6(0x7a)](FILE_PATH,webName),botPath=path[_0xa3a6b6(0x7a)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0xa3a6b6(0x84)),listPath=path[_0xa3a6b6(0x7a)](FILE_PATH,_0xa3a6b6(0xa8)),bootLogPath=path[_0xa3a6b6(0x7a)](FILE_PATH,'boot.log'),configPath=path[_0xa3a6b6(0x7a)](FILE_PATH,_0xa3a6b6(0xa1));function deleteNodes(){const _0x18d338={_0x22064c:0x99,_0x53bc23:0xa7,_0xf1f276:0x121,_0x45cdf4:0x128,_0x3d8c95:0x123,_0x479579:0x92},_0x2f83aa=_0xa3a6b6;try{if(!UPLOAD_URL)return;if(!fs[_0x2f83aa(_0x18d338._0x22064c)](subPath))return;let _0x2613af;try{_0x2613af=fs[_0x2f83aa(_0x18d338._0x53bc23)](subPath,_0x2f83aa(0x103));}catch{return null;}const _0x33d680=Buffer[_0x2f83aa(0x11a)](_0x2613af,'base64')[_0x2f83aa(0xf9)](_0x2f83aa(0x103)),_0x411eef=_0x33d680[_0x2f83aa(0x124)]('\x0a')[_0x2f83aa(_0x18d338._0xf1f276)](_0xb04aa1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2f83aa(0xc8)](_0xb04aa1));if(_0x411eef[_0x2f83aa(_0x18d338._0x45cdf4)]===0x0)return;return axios[_0x2f83aa(0x7e)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x2f83aa(_0x18d338._0x3d8c95)]({'nodes':_0x411eef}),{'headers':{'Content-Type':_0x2f83aa(_0x18d338._0x479579)}})[_0x2f83aa(0x9a)](_0x2a4aca=>{return null;}),null;}catch(_0x12c977){return null;}}function cleanupOldFiles(){const _0x5b4aca={_0x4568ab:0xf6,_0x3f9ae3:0xef},_0x5a1345=_0xa3a6b6;try{const _0x372f5a=fs[_0x5a1345(_0x5b4aca._0x4568ab)](FILE_PATH);_0x372f5a[_0x5a1345(_0x5b4aca._0x3f9ae3)](_0x249c7c=>{const _0x338e17=_0x5a1345,_0x374cb9=path[_0x338e17(0x7a)](FILE_PATH,_0x249c7c);try{const _0x559f93=fs['statSync'](_0x374cb9);_0x559f93['isFile']()&&fs[_0x338e17(0xec)](_0x374cb9);}catch(_0x548429){}});}catch(_0x56d45c){}}app[_0xa3a6b6(0xf5)]('/',function(_0x575181,_0x49d2d8){const _0x10925e={_0x1330b2:0xf3,_0x2701cf:0x122},_0x140db1=_0xa3a6b6;_0x49d2d8[_0x140db1(_0x10925e._0x1330b2)](_0x140db1(_0x10925e._0x2701cf));});async function generateConfig(){const _0x314754={_0x2b6842:0xa0,_0x25de0e:0xe6,_0x592ddd:0xad,_0x2a61eb:0x12f,_0xad5459:0x86,_0x15ccb9:0xe6,_0x2f6939:0xf8,_0x17b0d2:0xe6,_0x11c6c6:0xe6,_0x115d43:0x113,_0x115590:0xd8,_0x2986f0:0xf2,_0x3349bc:0x102,_0x599054:0xa1},_0x594c7e=_0xa3a6b6,_0x5de7fe={'log':{'access':_0x594c7e(_0x314754._0x2b6842),'error':'/dev/null','loglevel':_0x594c7e(_0x314754._0x25de0e)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x594c7e(0xf8),'settings':{'clients':[{'id':UUID,'flow':_0x594c7e(_0x314754._0x592ddd)}],'decryption':_0x594c7e(0xe6),'fallbacks':[{'dest':0xbb9},{'path':_0x594c7e(_0x314754._0x2a61eb),'dest':0xbba},{'path':_0x594c7e(0x11f),'dest':0xbbb},{'path':_0x594c7e(_0x314754._0xad5459),'dest':0xbbc}]},'streamSettings':{'network':_0x594c7e(0x8f)}},{'port':0xbb9,'listen':_0x594c7e(0xd8),'protocol':_0x594c7e(0xf8),'settings':{'clients':[{'id':UUID}],'decryption':_0x594c7e(0xe6)},'streamSettings':{'network':_0x594c7e(0x8f),'security':_0x594c7e(_0x314754._0x15ccb9)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x594c7e(_0x314754._0x2f6939),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x594c7e(_0x314754._0x17b0d2)},'streamSettings':{'network':'ws','security':_0x594c7e(_0x314754._0x11c6c6),'wsSettings':{'path':_0x594c7e(0x12f)}},'sniffing':{'enabled':!![],'destOverride':[_0x594c7e(_0x314754._0x115d43),_0x594c7e(0xe7),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x594c7e(_0x314754._0x115590),'protocol':_0x594c7e(0x108),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x594c7e(0x11f)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x594c7e(0xe7),_0x594c7e(_0x314754._0x2986f0)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x594c7e(_0x314754._0x115590),'protocol':_0x594c7e(_0x314754._0x3349bc),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x594c7e(_0x314754._0x15ccb9),'wsSettings':{'path':_0x594c7e(0x86)}},'sniffing':{'enabled':!![],'destOverride':[_0x594c7e(_0x314754._0x115d43),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x594c7e(0xe4),'tag':_0x594c7e(0xae)},{'protocol':_0x594c7e(0xe2),'tag':_0x594c7e(0x10f)}]};fs['writeFileSync'](path[_0x594c7e(0x7a)](FILE_PATH,_0x594c7e(_0x314754._0x599054)),JSON[_0x594c7e(0x123)](_0x5de7fe,null,0x2));}function getSystemArchitecture(){const _0x31d7cc=_0xa3a6b6,_0x592d44=os[_0x31d7cc(0x9c)]();return _0x592d44==='arm'||_0x592d44===_0x31d7cc(0xb1)||_0x592d44===_0x31d7cc(0xf4)?_0x31d7cc(0xb5):'amd';}function downloadFile(_0xf20097,_0x4d8e29,_0x33ae40){const _0x40a6f8={_0x5aa2f4:0x99,_0x49d0bd:0xca},_0x4e7712={_0xaa79ad:0x89},_0x34517a={_0x2c1608:0x10e,_0x23935c:0xab},_0x495dd4={_0x545e60:0x10d,_0x19aa8d:0x110},_0x305cbd=_0xa3a6b6,_0x5dcede=_0xf20097;!fs[_0x305cbd(_0x40a6f8._0x5aa2f4)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4814f3=fs['createWriteStream'](_0x5dcede);axios({'method':_0x305cbd(0xf5),'url':_0x4d8e29,'responseType':_0x305cbd(_0x40a6f8._0x49d0bd)})[_0x305cbd(0x91)](_0x494390=>{const _0x59a7d8=_0x305cbd;_0x494390['data'][_0x59a7d8(_0x34517a._0x2c1608)](_0x4814f3),_0x4814f3['on'](_0x59a7d8(_0x34517a._0x23935c),()=>{const _0x50db35=_0x59a7d8;_0x4814f3[_0x50db35(0xcb)](),console[_0x50db35(0x8c)](_0x50db35(0xd5)+path[_0x50db35(0x87)](_0x5dcede)+_0x50db35(0x109)),_0x33ae40(null,_0x5dcede);}),_0x4814f3['on'](_0x59a7d8(0x89),_0x3154c0=>{const _0x20cff3=_0x59a7d8;fs[_0x20cff3(_0x495dd4._0x545e60)](_0x5dcede,()=>{});const _0x4480a2='Download\x20'+path[_0x20cff3(0x87)](_0x5dcede)+_0x20cff3(0xfd)+_0x3154c0[_0x20cff3(_0x495dd4._0x19aa8d)];console['error'](_0x4480a2),_0x33ae40(_0x4480a2);});})[_0x305cbd(0x9a)](_0x2633ee=>{const _0x497a42=_0x305cbd,_0x2a9f29='Download\x20'+path[_0x497a42(0x87)](_0x5dcede)+'\x20failed:\x20'+_0x2633ee['message'];console[_0x497a42(_0x4e7712._0xaa79ad)](_0x2a9f29),_0x33ae40(_0x2a9f29);});}async function downloadFilesAndRun(){const _0x3ca836={_0x12d72b:0x128,_0x51a378:0x8c,_0x5ad566:0xba,_0x375c0c:0x93,_0x2298f3:0x9f,_0x527339:0x119,_0x3b7f07:0xe0,_0x17bacc:0x12e,_0xe24324:0x117,_0xa0657e:0x9b,_0x3560c1:0x10a,_0x2dbef1:0xaa,_0x399e17:0x88,_0x2639c0:0xb6,_0x5295cb:0x8c,_0x5b15f0:0xc4,_0x36dc68:0x78,_0x47b8f3:0x9f,_0x3b9ff1:0xea,_0x26e037:0x94,_0x35b8d1:0x8c,_0x58b3dd:0x89,_0x2fe1f2:0xda,_0x54a9f7:0xfb,_0x1cecf1:0xd9,_0x4f17ea:0xe9,_0x111fe5:0xeb,_0x36c794:0xc4,_0x10a9cb:0xb8},_0x7acb53={_0x409672:0xef},_0x3ff58c=_0xa3a6b6,_0x3b9875=getSystemArchitecture(),_0x4e244d=getFilesForArchitecture(_0x3b9875);if(_0x4e244d[_0x3ff58c(_0x3ca836._0x12d72b)]===0x0){console[_0x3ff58c(_0x3ca836._0x51a378)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x4c03db=_0x4e244d[_0x3ff58c(_0x3ca836._0x5ad566)](_0x563f1f=>{return new Promise((_0x457d57,_0x234643)=>{downloadFile(_0x563f1f['fileName'],_0x563f1f['fileUrl'],(_0x1178be,_0x3a6704)=>{_0x1178be?_0x234643(_0x1178be):_0x457d57(_0x3a6704);});});});try{await Promise[_0x3ff58c(_0x3ca836._0x375c0c)](_0x4c03db);}catch(_0xc0d998){console[_0x3ff58c(0x89)]('Error\x20downloading\x20files:',_0xc0d998);return;}function _0x3aff4e(_0x3c1717){const _0x3979e0={_0x4d41a8:0x99},_0x280049=_0x3ff58c,_0x20a39a=0x1fd;_0x3c1717[_0x280049(_0x7acb53._0x409672)](_0x299889=>{const _0x2d3abb=_0x280049;fs[_0x2d3abb(_0x3979e0._0x4d41a8)](_0x299889)&&fs[_0x2d3abb(0xac)](_0x299889,_0x20a39a,_0x5e9f4a=>{const _0x46393a=_0x2d3abb;_0x5e9f4a?console[_0x46393a(0x89)](_0x46393a(0xdc)+_0x299889+':\x20'+_0x5e9f4a):console[_0x46393a(0x8c)](_0x46393a(0x107)+_0x299889+':\x20'+_0x20a39a[_0x46393a(0xf9)](0x8));});});}const _0x4aad0a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3aff4e(_0x4aad0a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ef59e=NEZHA_SERVER[_0x3ff58c(_0x3ca836._0x2298f3)](':')?NEZHA_SERVER['split'](':')[_0x3ff58c(_0x3ca836._0x527339)]():'',_0x5ad308=new Set(['443','8443',_0x3ff58c(0xa6),_0x3ff58c(0xc2),'2083',_0x3ff58c(_0x3ca836._0x3b7f07)]),_0x3e49f1=_0x5ad308[_0x3ff58c(0xd7)](_0x3ef59e)?_0x3ff58c(_0x3ca836._0x17bacc):_0x3ff58c(_0x3ca836._0xe24324),_0x5e2538=_0x3ff58c(_0x3ca836._0xa0657e)+NEZHA_KEY+_0x3ff58c(_0x3ca836._0x3560c1)+NEZHA_SERVER+_0x3ff58c(_0x3ca836._0x2dbef1)+_0x3e49f1+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x3ff58c(0xce)](path['join'](FILE_PATH,'config.yaml'),_0x5e2538);const _0x434515=_0x3ff58c(_0x3ca836._0x399e17)+phpPath+_0x3ff58c(0x115)+FILE_PATH+_0x3ff58c(_0x3ca836._0x2639c0);try{await exec(_0x434515),console[_0x3ff58c(_0x3ca836._0x5295cb)](phpName+_0x3ff58c(_0x3ca836._0x5b15f0)),await new Promise(_0x32ea8c=>setTimeout(_0x32ea8c,0x3e8));}catch(_0xbc97f0){console[_0x3ff58c(0x89)]('php\x20running\x20error:\x20'+_0xbc97f0);}}else{let _0x5c287a='';const _0x338130=[_0x3ff58c(_0x3ca836._0x36dc68),_0x3ff58c(0xc6),_0x3ff58c(0xa6),_0x3ff58c(0xc2),_0x3ff58c(0xb0),_0x3ff58c(0xe0)];_0x338130[_0x3ff58c(_0x3ca836._0x47b8f3)](NEZHA_PORT)&&(_0x5c287a='--tls');const _0x5c19eb=_0x3ff58c(0x88)+npmPath+_0x3ff58c(_0x3ca836._0x3b9ff1)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3ff58c(_0x3ca836._0x26e037)+NEZHA_KEY+'\x20'+_0x5c287a+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5c19eb),console[_0x3ff58c(_0x3ca836._0x35b8d1)](npmName+_0x3ff58c(_0x3ca836._0x5b15f0)),await new Promise(_0x3f5978=>setTimeout(_0x3f5978,0x3e8));}catch(_0x45e1a8){console[_0x3ff58c(_0x3ca836._0x58b3dd)](_0x3ff58c(0x129)+_0x45e1a8);}}}else console[_0x3ff58c(0x8c)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x43dbcc=_0x3ff58c(0x88)+webPath+'\x20-c\x20'+FILE_PATH+_0x3ff58c(_0x3ca836._0x2fe1f2);try{await exec(_0x43dbcc),console[_0x3ff58c(0x8c)](webName+_0x3ff58c(_0x3ca836._0x5b15f0)),await new Promise(_0xfb5ed5=>setTimeout(_0xfb5ed5,0x3e8));}catch(_0x43b576){console[_0x3ff58c(0x89)](_0x3ff58c(_0x3ca836._0x54a9f7)+_0x43b576);}if(fs[_0x3ff58c(0x99)](botPath)){let _0x24279d;if(ARGO_AUTH[_0x3ff58c(0xd9)](/^[A-Z0-9a-z=]{120,250}$/))_0x24279d=_0x3ff58c(0xc0)+ARGO_AUTH;else ARGO_AUTH[_0x3ff58c(_0x3ca836._0x1cecf1)](/TunnelSecret/)?_0x24279d=_0x3ff58c(_0x3ca836._0x4f17ea)+FILE_PATH+_0x3ff58c(0xd2):_0x24279d=_0x3ff58c(0x10c)+FILE_PATH+_0x3ff58c(0xde)+ARGO_PORT;try{await exec(_0x3ff58c(0x88)+botPath+'\x20'+_0x24279d+_0x3ff58c(_0x3ca836._0x111fe5)),console[_0x3ff58c(_0x3ca836._0x51a378)](botName+_0x3ff58c(_0x3ca836._0x36c794)),await new Promise(_0x131422=>setTimeout(_0x131422,0x7d0));}catch(_0x4ffacc){console[_0x3ff58c(_0x3ca836._0x58b3dd)](_0x3ff58c(_0x3ca836._0x10a9cb)+_0x4ffacc);}}await new Promise(_0x1df787=>setTimeout(_0x1df787,0x1388));}function _0x35a1(_0x4e30ef,_0x2e6006){const _0x46ca73=_0x46ca();return _0x35a1=function(_0x35a13a,_0x423656){_0x35a13a=_0x35a13a-0x74;let _0x4c89fa=_0x46ca73[_0x35a13a];return _0x4c89fa;},_0x35a1(_0x4e30ef,_0x2e6006);}function getFilesForArchitecture(_0x479dd2){const _0x20bf5c={_0x1a1983:0xf0,_0x2ad2ff:0xb5,_0x44e29a:0xdb},_0x26be3f=_0xa3a6b6;let _0x36d807;_0x479dd2===_0x26be3f(0xb5)?_0x36d807=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x26be3f(_0x20bf5c._0x1a1983)}]:_0x36d807=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x26be3f(0x95)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x34a963=_0x479dd2===_0x26be3f(0xb5)?_0x26be3f(0x9e):_0x26be3f(0xee);_0x36d807['unshift']({'fileName':npmPath,'fileUrl':_0x34a963});}else{const _0x2c8822=_0x479dd2===_0x26be3f(_0x20bf5c._0x2ad2ff)?_0x26be3f(_0x20bf5c._0x44e29a):'https://amd64.ssss.nyc.mn/v1';_0x36d807[_0x26be3f(0x101)]({'fileName':phpPath,'fileUrl':_0x2c8822});}}return _0x36d807;}function argoType(){const _0x239432={_0x20afd2:0x8c,_0x4dee69:0xd6,_0x3d1f3f:0x8b,_0x4bdeca:0x7a,_0x7a75d6:0xc5,_0x31fe5d:0x12d},_0x429872=_0xa3a6b6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x429872(_0x239432._0x20afd2)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x429872(0x9f)](_0x429872(0x11e))){fs['writeFileSync'](path[_0x429872(0x7a)](FILE_PATH,_0x429872(_0x239432._0x4dee69)),ARGO_AUTH);const _0x3fe028=_0x429872(_0x239432._0x3d1f3f)+ARGO_AUTH[_0x429872(0x124)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x429872(_0x239432._0x4bdeca)](FILE_PATH,_0x429872(_0x239432._0x4dee69))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x429872(0xd1)+ARGO_PORT+_0x429872(_0x239432._0x7a75d6);fs[_0x429872(0xce)](path[_0x429872(_0x239432._0x4bdeca)](FILE_PATH,'tunnel.yml'),_0x3fe028);}else console[_0x429872(_0x239432._0x20afd2)](_0x429872(_0x239432._0x31fe5d));}argoType();async function extractDomains(){const _0x56142b={_0x4c21e8:0x124,_0x12f136:0x128,_0x30e350:0x8c,_0x595039:0xec,_0x6cb0c0:0x7a,_0x3abc7e:0xe1,_0xa368f7:0x10c,_0x3877be:0xde,_0x1cc506:0x88},_0x192538={_0x1c1c46:0x79},_0x13e72e={_0x328ef0:0x127,_0x87299c:0x105,_0x12f11c:0xb9},_0x36a936=_0xa3a6b6;let _0x596963;if(ARGO_AUTH&&ARGO_DOMAIN)_0x596963=ARGO_DOMAIN,console[_0x36a936(0x8c)](_0x36a936(0x126),_0x596963),await _0x350c32(_0x596963);else try{const _0x57b904=fs[_0x36a936(0xa7)](path[_0x36a936(0x7a)](FILE_PATH,_0x36a936(0xe1)),_0x36a936(0x103)),_0x10defd=_0x57b904[_0x36a936(_0x56142b._0x4c21e8)]('\x0a'),_0x333eee=[];_0x10defd[_0x36a936(0xef)](_0x36779a=>{const _0x4875a6=_0x36a936,_0x4397c8=_0x36779a[_0x4875a6(0xd9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4397c8){const _0x47d114=_0x4397c8[0x1];_0x333eee['push'](_0x47d114);}});if(_0x333eee[_0x36a936(_0x56142b._0x12f136)]>0x0)_0x596963=_0x333eee[0x0],console[_0x36a936(_0x56142b._0x30e350)](_0x36a936(0x7f),_0x596963),await _0x350c32(_0x596963);else{console[_0x36a936(0x8c)](_0x36a936(0xc1)),fs[_0x36a936(_0x56142b._0x595039)](path[_0x36a936(_0x56142b._0x6cb0c0)](FILE_PATH,_0x36a936(_0x56142b._0x3abc7e)));async function _0xa28693(){const _0x314376=_0x36a936;try{process[_0x314376(_0x13e72e._0x328ef0)]===_0x314376(_0x13e72e._0x87299c)?await exec(_0x314376(0xc9)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x314376(0xa4)+botName[_0x314376(_0x13e72e._0x12f11c)](0x0)+']'+botName['substring'](0x1)+_0x314376(0xd3));}catch(_0x5504a7){}}_0xa28693(),await new Promise(_0x46e234=>setTimeout(_0x46e234,0xbb8));const _0x5c9fa1=_0x36a936(_0x56142b._0xa368f7)+FILE_PATH+_0x36a936(_0x56142b._0x3877be)+ARGO_PORT;try{await exec(_0x36a936(_0x56142b._0x1cc506)+botPath+'\x20'+_0x5c9fa1+'\x20>/dev/null\x202>&1\x20&'),console[_0x36a936(_0x56142b._0x30e350)](botName+'\x20is\x20running'),await new Promise(_0x18f0d9=>setTimeout(_0x18f0d9,0xbb8)),await extractDomains();}catch(_0x696cfa){console['error'](_0x36a936(0xb8)+_0x696cfa);}}}catch(_0x2a28aa){console[_0x36a936(0x89)]('Error\x20reading\x20boot.log:',_0x2a28aa);}async function _0x350c32(_0x576396){const _0x332e08={_0x368f66:0xe6,_0x14674e:0x11b,_0x45482e:0x11a,_0x1c9b60:0xbb,_0x332085:0xc3,_0x5f624:0xbe,_0x1dccf6:0xbb,_0x329573:0xf9,_0x1bf791:0xf5},_0x3f01ad=_0x36a936,_0x593122=execSync(_0x3f01ad(_0x192538._0x1c1c46),{'encoding':_0x3f01ad(0x103)}),_0x3e1ee3=_0x593122[_0x3f01ad(0xbf)](),_0x36ec3f=NAME?NAME+'-'+_0x3e1ee3:_0x3e1ee3;return new Promise(_0x185bbe=>{setTimeout(()=>{const _0x2b0c79=_0x35a1,_0x3ac288={'v':'2','ps':''+_0x36ec3f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2b0c79(_0x332e08._0x368f66),'net':'ws','type':_0x2b0c79(0xe6),'host':_0x576396,'path':_0x2b0c79(0xa2),'tls':'tls','sni':_0x576396,'alpn':'','fp':'firefox'},_0x53d59f=_0x2b0c79(0x11c)+UUID+'@'+CFIP+':'+CFPORT+_0x2b0c79(_0x332e08._0x14674e)+_0x576396+'&fp=firefox&type=ws&host='+_0x576396+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x36ec3f+_0x2b0c79(0xcd)+Buffer[_0x2b0c79(_0x332e08._0x45482e)](JSON[_0x2b0c79(0x123)](_0x3ac288))[_0x2b0c79(0xf9)](_0x2b0c79(_0x332e08._0x1c9b60))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x2b0c79(0xcc)+_0x576396+_0x2b0c79(_0x332e08._0x332085)+_0x576396+_0x2b0c79(_0x332e08._0x5f624)+_0x36ec3f+'\x0a\x20\x20\x20\x20';console[_0x2b0c79(0x8c)](Buffer[_0x2b0c79(_0x332e08._0x45482e)](_0x53d59f)[_0x2b0c79(0xf9)](_0x2b0c79(_0x332e08._0x1dccf6))),fs[_0x2b0c79(0xce)](subPath,Buffer[_0x2b0c79(0x11a)](_0x53d59f)[_0x2b0c79(_0x332e08._0x329573)](_0x2b0c79(0xbb))),console[_0x2b0c79(0x8c)](FILE_PATH+_0x2b0c79(0xb2)),uploadNodes(),app[_0x2b0c79(_0x332e08._0x1bf791)]('/'+SUB_PATH,(_0x20546f,_0x5d10d9)=>{const _0x5b56eb=_0x2b0c79,_0x2e6d75=Buffer['from'](_0x53d59f)['toString'](_0x5b56eb(0xbb));_0x5d10d9['set'](_0x5b56eb(0x8a),_0x5b56eb(0x7b)),_0x5d10d9[_0x5b56eb(0xf3)](_0x2e6d75);}),_0x185bbe(_0x53d59f);},0x7d0);});}}async function uploadNodes(){const _0xd0f84f={_0x2c430c:0xa5,_0x324ede:0x92,_0x576b7f:0xa9,_0x2782fd:0x8c,_0x571655:0x83,_0x56ed9a:0x103,_0x426a7c:0x128,_0x5b2d9c:0x123,_0x4f4a66:0x7e,_0x26d78f:0x12c,_0x22c510:0x8c},_0x3bdbde=_0xa3a6b6;if(UPLOAD_URL&&PROJECT_URL){const _0x6b5bf=PROJECT_URL+'/'+SUB_PATH,_0x265fda={'subscription':[_0x6b5bf]};try{const _0x5bf213=await axios['post'](UPLOAD_URL+_0x3bdbde(_0xd0f84f._0x2c430c),_0x265fda,{'headers':{'Content-Type':_0x3bdbde(_0xd0f84f._0x324ede)}});return _0x5bf213&&_0x5bf213[_0x3bdbde(_0xd0f84f._0x576b7f)]===0xc8?(console[_0x3bdbde(_0xd0f84f._0x2782fd)](_0x3bdbde(_0xd0f84f._0x571655)),_0x5bf213):null;}catch(_0x18ed70){if(_0x18ed70['response']){if(_0x18ed70['response'][_0x3bdbde(0xa9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3bdbde(0x99)](listPath))return;const _0xa0da0f=fs[_0x3bdbde(0xa7)](listPath,_0x3bdbde(_0xd0f84f._0x56ed9a)),_0x4fd83d=_0xa0da0f['split']('\x0a')[_0x3bdbde(0x121)](_0x564266=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x564266));if(_0x4fd83d[_0x3bdbde(_0xd0f84f._0x426a7c)]===0x0)return;const _0x41eba3=JSON[_0x3bdbde(_0xd0f84f._0x5b2d9c)]({'nodes':_0x4fd83d});try{const _0x2b0320=await axios[_0x3bdbde(_0xd0f84f._0x4f4a66)](UPLOAD_URL+_0x3bdbde(_0xd0f84f._0x26d78f),_0x41eba3,{'headers':{'Content-Type':_0x3bdbde(0x92)}});return _0x2b0320&&_0x2b0320[_0x3bdbde(_0xd0f84f._0x576b7f)]===0xc8?(console[_0x3bdbde(_0xd0f84f._0x22c510)](_0x3bdbde(0x77)),_0x2b0320):null;}catch(_0x165387){return null;}}else return;}}function cleanFiles(){const _0xf4cd0={_0x2cd9ff:0x7a,_0x213554:0xfc,_0x29fb9f:0x7a},_0x3da10c={_0x333e3c:0x8c,_0x5feb4a:0xbc,_0x5cc965:0x8c};setTimeout(()=>{const _0x542b43={_0x526f3b:0x81,_0x4c26a1:0x8c,_0x402d5f:0x8c,_0x32a856:0xe5},_0x3059d8=_0x35a1,_0x51283b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x51283b[_0x3059d8(0x82)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x51283b[_0x3059d8(0x82)](phpPath);process['platform']===_0x3059d8(0x105)?exec(_0x3059d8(0xb3)+_0x51283b[_0x3059d8(_0xf4cd0._0x2cd9ff)]('\x20')+_0x3059d8(0x80),_0x34b422=>{const _0x4d11a5=_0x3059d8;console[_0x4d11a5(0x81)](),console[_0x4d11a5(_0x3da10c._0x333e3c)](_0x4d11a5(_0x3da10c._0x5feb4a)),console[_0x4d11a5(_0x3da10c._0x5cc965)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x3059d8(_0xf4cd0._0x213554)+_0x51283b[_0x3059d8(_0xf4cd0._0x29fb9f)]('\x20')+'\x20>/dev/null\x202>&1',_0x54e982=>{const _0x3ec5eb=_0x3059d8;console[_0x3ec5eb(_0x542b43._0x526f3b)](),console[_0x3ec5eb(_0x542b43._0x4c26a1)]('App\x20is\x20running'),console[_0x3ec5eb(_0x542b43._0x402d5f)](_0x3ec5eb(_0x542b43._0x32a856));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2d3178={_0xc51486:0x8c,_0x51fc7e:0x8e,_0x4f155f:0xd0},_0x7fc05c=_0xa3a6b6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x7fc05c(_0x2d3178._0xc51486)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x2e703c=await axios['post'](_0x7fc05c(_0x2d3178._0x51fc7e),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x7fc05c(0x92)}});return console[_0x7fc05c(_0x2d3178._0xc51486)](_0x7fc05c(0x125)),_0x2e703c;}catch(_0x59df41){return console['error'](_0x7fc05c(_0x2d3178._0x4f155f)+_0x59df41['message']),null;}}async function startserver(){const _0x19aa9d=_0xa3a6b6;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4d8fb0){console[_0x19aa9d(0x89)](_0x19aa9d(0x111),_0x4d8fb0);}}startserver()[_0xa3a6b6(0x9a)](_0x186daf=>{const _0x42a217=_0xa3a6b6;console['error'](_0x42a217(0xe8),_0x186daf);}),app[_0xa3a6b6(0xdd)](PORT,()=>console[_0xa3a6b6(0x8c)](_0xa3a6b6(0xf1)+PORT+'!'));
